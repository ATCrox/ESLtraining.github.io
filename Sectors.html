<model-viewer id="Base" camera-controls touch-action="pan-y" src="Sectors/Base.glb" ar alt="External coordination agencies">
  <div class="controls">
    <div>
      <p>Wonthaggi</p>
      <select id="On">
        <option value="Sectors/BaseWON.glb">On</option>
        select id="Off">
        <option value=none>Off</option>
      </select>
    </div>
    <div>
      <p>Metallic-roughness</p>
      <select id="metallicRoughness">
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/DamagedHelmet/glTF/Default_metalRoughness.jpg">Damaged helmet</option>
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/Lantern/glTF/Lantern_roughnessMetallic.png">Lantern Pole</option>
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/WaterBottle/glTF/WaterBottle_occlusionRoughnessMetallic.png">Water Bottle</option>
      </select>
    </div>
    <div>
      <p>Normals</p>
      <select id="normals">
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/DamagedHelmet/glTF/Default_normal.jpg">Damaged helmet</option>
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/Lantern/glTF/Lantern_normal.png">Lantern Pole</option>
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/WaterBottle/glTF/WaterBottle_normal.png">Water Bottle</option>
      </select>
    </div>
    <div>
      <p>Occlusion</p>
      <select id="occlusion">
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/DamagedHelmet/glTF/Default_AO.jpg">Damaged helmet</option>
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/WaterBottle/glTF/WaterBottle_occlusionRoughnessMetallic.png">Water Bottle</option>
      </select>
    </div>
    <div>
      <p>Emission</p>
      <select id="emission">
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/DamagedHelmet/glTF/Default_emissive.jpg">Damaged helmet</option>
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/Lantern/glTF/Lantern_emissive.png">Lantern Pole</option>
        <option value="../../shared-assets/models/glTF-Sample-Models/2.0/WaterBottle/glTF/WaterBottle_emissive.png">Water Bottle</option>
      </select>
    </div>
  </div>
</model-viewer>
<script type="module">
const modelViewerTexture1 = document.querySelector("model-viewer#helmet");

modelViewerTexture1.addEventListener("load", () => {

  const material = modelViewerTexture1.model.materials[0];

  const createAndApplyTexture = async (channel, event) => {
    const texture = await modelViewerTexture1.createTexture(event.target.value);
    if (channel.includes('base') || channel.includes('metallic')) {
      material.pbrMetallicRoughness[channel].setTexture(texture);
    } else {
      material[channel].setTexture(texture);
    }
  }

  document.querySelector('#normals').addEventListener('input', (event) => {
    createAndApplyTexture('normalTexture', event);
  });

  document.querySelector('#occlusion').addEventListener('input', (event) => {
    createAndApplyTexture('occlusionTexture', event);
  });

  document.querySelector('#emission').addEventListener('input', (event) => {
    createAndApplyTexture('emissiveTexture', event);
  });

  document.querySelector('#diffuse').addEventListener('input', (event) => {
    createAndApplyTexture('baseColorTexture', event);
  });

  document.querySelector('#metallicRoughness').addEventListener('input', (event) => {
    createAndApplyTexture('metallicRoughnessTexture', event);
  });
});

</script>
